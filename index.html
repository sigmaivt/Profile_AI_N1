<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro_Zone | Кибер--Клуб | LAN Турниры по Ретро Играм</title>
    <meta name="description" content="RETRO_ZONE - центр ностальгии. LAN турниры по классическим играм: CS 1.6, Warcraft III, Quake III, StarCraft, Diablo II, Half-Life, DOTA. Ретро оборудование, чистый скилл, без лагов и DLC.">
    <meta name="keywords" content="кибер-клуб, LAN турниры, ретро игры, CS 1.6, Warcraft III, Quake III, StarCraft, Diablo II, Half-Life, DOTA, ретроклуб, гейминг">
    <meta name="author" content="RETRO_ZONE">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Retro_Zone | Кибер--Клуб | LAN Турниры по Ретро Играм">
    <meta property="og:description" content="RETRO_ZONE - центр ностальгии. LAN турниры по классическим играм. Ретро оборудование, чистый скилл, без лагов и DLC.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://retro-zone.club">
    <meta property="og:image" content="https://retro-zone.club/preview.jpg">
    <link rel="canonical" href="https://retro-zone.club">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'retro-black': '#050505',
              'retro-green': '#00ff41',
              'retro-green-dim': '#008F11',
              'retro-amber': '#ffb000',
              'retro-purple': '#bf00ff',
              'mech-bg': '#dcdcdc',
              'mech-dark': '#888888',
              'mech-light': '#ffffff',
            },
            fontFamily: {
              'pixel': ['"Press Start 2P"', 'cursive'],
              'terminal': ['"VT323"', 'monospace'],
              'mono-large': ['monospace'],
            },
            animation: {
              'blink': 'blink 1s step-end infinite',
            }
          }
        }
      }
    </script>

    <style>
/* --- GLOBAL STYLES - MODIFIED --- */
      body {
        background-color: #000;
        overflow-x: hidden;
      }
      ::-webkit-scrollbar { width: 12px; }
      ::-webkit-scrollbar-track { background: #000; }
      ::-webkit-scrollbar-thumb { background: #00ff41; border: 2px solid #000; }
      
      .blink { animation: blink 1s step-end infinite; }
      @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

      /* --- CRT OVERLAY --- */
      .scanlines {
        background: linear-gradient(
          to bottom,
          rgba(255,255,255,0),
          rgba(255,255,255,0) 50%,
          rgba(0,0,0,0.2) 50%,
          rgba(0,0,0,0.2)
        );
        background-size: 100% 4px;
        pointer-events: none;
      }
      .vignette {
        background: radial-gradient(
          circle,
          rgba(0,0,0,0) 60%,
          rgba(0,0,0,0.4) 90%,
          rgba(0,0,0,0.8) 100%
        );
        pointer-events: none;
      }

      /* --- GAME CARDS & GLITCH --- */
      @keyframes glitch-anim {
        0% { clip-path: inset(10% 0 80% 0); transform: translate(-2px, 1px); filter: hue-rotate(0deg); }
        20% { clip-path: inset(80% 0 5% 0); transform: translate(2px, -2px); filter: hue-rotate(90deg); }
        40% { clip-path: inset(30% 0 50% 0); transform: translate(-3px, 3px); filter: hue-rotate(180deg); }
        60% { clip-path: inset(70% 0 20% 0); transform: translate(3px, -1px); filter: hue-rotate(270deg); }
        80% { clip-path: inset(10% 0 60% 0); transform: translate(-1px, 2px); filter: hue-rotate(0deg); }
        100% { clip-path: inset(50% 0 30% 0); transform: translate(1px, -2px); filter: hue-rotate(90deg); }
      }
      
      .game-card:hover .glitch-layer {
        display: block;
        animation: glitch-anim 0.25s infinite linear;
      }

      /* --- FOOTER ANIMATIONS --- */
      /* Complex Pacman Route */
      @keyframes pacman-complex-route {
          0% { left: 8%; top: 88%; transform: translate(-50%, -50%) rotate(-90deg); opacity: 0; } /* Start Bottom-Left, Face Up */
          5% { opacity: 1; }
          
          /* Leg 1: Move UP to Top-Left */
          25% { left: 8%; top: 12%; transform: translate(-50%, -50%) rotate(-90deg); }
          26% { left: 8%; top: 12%; transform: translate(-50%, -50%) rotate(0deg); } /* Turn Right */
          
          /* Leg 2: Move RIGHT to Top-Right */
          50% { left: 92%; top: 12%; transform: translate(-50%, -50%) rotate(0deg); }
          51% { left: 92%; top: 12%; transform: translate(-50%, -50%) rotate(90deg); } /* Turn Down */
          
          /* Leg 3: Move DOWN to Center-Right */
          70% { left: 92%; top: 50%; transform: translate(-50%, -50%) rotate(90deg); }
          71% { left: 92%; top: 50%; transform: translate(-50%, -50%) rotate(180deg); } /* Turn Left */
          
          /* Leg 4: Move LEFT to Center */
          95% { left: 55%; top: 50%; transform: translate(-50%, -50%) rotate(180deg); opacity: 1; }
          100% { left: 55%; top: 50%; transform: translate(-50%, -50%) rotate(180deg); opacity: 0; }
      }

      @keyframes waka {
          0% { clip-path: polygon(100% 0%, 100% 100%, 50% 50%, 0% 100%, 0% 0%); } /* Open */
          50% { clip-path: polygon(100% 0%, 100% 100%, 90% 50%, 0% 100%, 0% 0%); } /* Closed-ish */
          100% { clip-path: polygon(100% 0%, 100% 100%, 50% 50%, 0% 100%, 0% 0%); }
      }

      /* Floppy Cycle: Insert from Bottom -> Read -> Eject Down */
      @keyframes floppy-cycle {
          0% { transform: translateY(120%); opacity: 0; }
          10% { transform: translateY(120%); opacity: 1; }
          30% { transform: translateY(0); opacity: 1; }
          70% { transform: translateY(0); opacity: 1; }
          85% { transform: translateY(120%); opacity: 1; }
          95% { transform: translateY(120%); opacity: 0; }
          100% { transform: translateY(120%); opacity: 0; }
      }

      @keyframes led-blink {
          0%, 30% { background-color: #374151; box-shadow: none; }
          35% { background-color: #00ff41; box-shadow: 0 0 8px #00ff41; }
          40% { background-color: #374151; box-shadow: none; }
          45% { background-color: #00ff41; box-shadow: 0 0 8px #00ff41; }
          50% { background-color: #374151; box-shadow: none; }
          55% { background-color: #00ff41; box-shadow: 0 0 8px #00ff41; }
          60% { background-color: #374151; box-shadow: none; }
          100% { background-color: #374151; box-shadow: none; }
      }

      .animate-pacman-complex { animation: pacman-complex-route 8s linear infinite; }
      .pacman-mouth { animation: waka 0.3s steps(2) infinite; }
      .animate-floppy-cycle { animation: floppy-cycle 4s ease-in-out infinite; }
      .animate-drive-led { animation: led-blink 4s ease-in-out infinite; }

      /* --- MECH BUTTON SCANLINES --- */
      .btn-scanlines {
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2));
        background-size: 100% 4px;
      }

      /* --- SHIMMER EFFECT --- */
      @keyframes shimmer {
        0% { box-shadow: 0 0 5px #00ff41, 0 0 10px #00ff41, 0 0 15px #00ff41; }
        33% { box-shadow: 0 0 5px #ffb000, 0 0 10px #ffb000, 0 0 15px #ffb000; }
        66% { box-shadow: 0 0 5px #bf00ff, 0 0 10px #bf00ff, 0 0 15px #bf00ff; }
        100% { box-shadow: 0 0 5px #00ff41, 0 0 10px #00ff41, 0 0 15px #00ff41; }
      }
      .shimmer {
        animation: shimmer 3s ease-in-out infinite;
      }

      /* --- SPRITE ANIMATIONS --- */
      /* CS 1.6 Running Terrorist */
      @keyframes cs-run {
        0% { background-position: 0px 0px; }
        25% { background-position: -64px 0px; }
        50% { background-position: -128px 0px; }
        75% { background-position: -192px 0px; }
        100% { background-position: 0px 0px; }
      }

      /* Quake III Logo Spin */
      @keyframes quake-spin {
        0% { transform: rotateY(0deg) scale(1); }
        50% { transform: rotateY(180deg) scale(1.1); }
        100% { transform: rotateY(360deg) scale(1); }
      }

      /* Warcraft III Wave */
      @keyframes wc3-wave {
        0% { transform: rotate(0deg) scale(1); filter: hue-rotate(0deg); }
        33% { transform: rotate(120deg) scale(1.05); filter: hue-rotate(120deg); }
        66% { transform: rotate(240deg) scale(1.1); filter: hue-rotate(240deg); }
        100% { transform: rotate(360deg) scale(1); filter: hue-rotate(0deg); }
      }

      /* StarCraft Rings */
      @keyframes sc-ring1 { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      @keyframes sc-ring2 { 0% { transform: rotate(360deg); } 100% { transform: rotate(0deg); } }

      /* Diablo II Pentagram */
      @keyframes diablo-pulse {
        0% { transform: scale(1) rotate(0deg); filter: drop-shadow(0 0 5px #ff0000); }
        50% { transform: scale(1.1) rotate(180deg); filter: drop-shadow(0 0 15px #ff0000) hue-rotate(45deg); }
        100% { transform: scale(1) rotate(360deg); filter: drop-shadow(0 0 5px #ff0000); }
      }

      /* Half-Life Lambda */
      @keyframes hl-lambda {
        0% { transform: scale(1); text-shadow: 0 0 5px #ffb000; }
        25% { transform: scale(1.2); text-shadow: 0 0 15px #ffb000, 0 0 25px #ffb000; }
        50% { transform: scale(1); text-shadow: 0 0 10px #ffb000; }
        75% { transform: scale(1.1); text-shadow: 0 0 20px #ffb000, 0 0 30px #ffb000; }
        100% { transform: scale(1); text-shadow: 0 0 5px #ffb000; }
      }

      /* DOTA Map Elements */
      @keyframes dota-elements {
        0% { transform: translateX(0) translateY(0); opacity: 0.7; }
        25% { transform: translateX(10px) translateY(-5px); opacity: 1; }
        50% { transform: translateX(0) translateY(-10px); opacity: 0.7; }
        75% { transform: translateX(-10px) translateY(-5px); opacity: 1; }
        100% { transform: translateX(0) translateY(0); opacity: 0.7; }
      }

      /* UT 2004 Logo */
      @keyframes ut-logo {
        0% { transform: rotate(0deg) scale(1); }
        50% { transform: rotate(180deg) scale(1.2); }
        100% { transform: rotate(360deg) scale(1); }
      }

      /* --- SAVELSKAYA ROUTE ANIMATION --- */
      @keyframes savelskaya-route {
        0% {
          left: 8px; top: 240px;
          transform: translate(-50%, -50%) rotate(-90deg);
          opacity: 1;
        }
        /* Start: Metro Savelskaya */
        5% {
          left: 8px; top: 240px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }

        /* Walk up Novoslobodskaya Street - first segment */
        15% {
          left: 8px; top: 200px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }
        20% {
          left: 8px; top: 180px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }
        25% {
          left: 8px; top: 160px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }

        /* Continue up Novoslobodskaya */
        30% {
          left: 8px; top: 140px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }
        35% {
          left: 8px; top: 120px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }

        /* Turn right at intersection */
        40% {
          left: 8px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }

        /* Walk right along Novoslobodskaya toward Sushchevsky Val */
        45% {
          left: 24px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }
        50% {
          left: 40px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }
        55% {
          left: 56px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }
        60% {
          left: 72px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }
        65% {
          left: 88px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }
        70% {
          left: 104px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }
        75% {
          left: 120px; top: 120px;
          transform: translate(-50%, -50%) rotate(0deg);
        }

        /* Turn up onto Sushchevsky Val */
        80% {
          left: 120px; top: 120px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }

        /* Walk up Sushchevsky Val to destination */
        85% {
          left: 120px; top: 100px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }
        90% {
          left: 120px; top: 80px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }
        95% {
          left: 120px; top: 60px;
          transform: translate(-50%, -50%) rotate(-90deg);
        }

        /* Reach destination - final position */
        98% {
          left: 120px; top: 48px;
          transform: translate(-50%, -50%) rotate(-90deg);
          opacity: 1;
        }

        /* Stay at destination briefly */
        99% {
          left: 120px; top: 48px;
          transform: translate(-50%, -50%) rotate(-90deg);
          opacity: 1;
        }

        /* Fade out and reset */
        100% {
          left: 120px; top: 48px;
          transform: translate(-50%, -50%) rotate(-90deg);
          opacity: 0;
        }
      }

      .animate-savelskaya-route {
        animation: savelskaya-route 12s linear infinite;
      }

      /* --- IDLE ANIMATIONS --- */
      @keyframes idle-blink-fast {
        0%, 100% { opacity: 1; }
        50% { opacity: 0; }
      }

      @keyframes idle-border-pulse {
        0% { box-shadow: 0 0 5px rgba(0, 255, 65, 0.3); }
        50% { box-shadow: 0 0 15px rgba(0, 255, 65, 0.6), 0 0 25px rgba(0, 255, 65, 0.4); }

  100% { box-shadow: 0 0 5px rgba(0, 255, 65, 0.3); }
        0% { animation-duration: 33ms; }
        100% { animation-duration: 16ms; }
      }

      /* Idle state classes */
      .idle-active .idle-blink { animation: idle-blink-fast 0.3s step-end infinite; }
      .idle-active .game-card { animation: idle-border-pulse 2s ease-in-out infinite; }
      .idle-active #matrix-canvas { animation: idle-matrix-speed 1s ease-in-out; }

      /* GameBoy Pixel Art */
      .pixelated {
        image-rendering: pixelated;
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
      }

      /* --- MONITOR EFFECTS --- */
      /* Flicker effect */
      @keyframes flicker {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.98; }
        51% { opacity: 0.95; }
        52% { opacity: 0.92; }
        53% { opacity: 0.95; }
        54% { opacity: 0.98; }
      }

      /* Distortion effect */
      @keyframes distort {
        0% { transform: perspective(1000px) rotateX(0deg) rotateY(0deg); }
        25% { transform: perspective(1000px) rotateX(0.5deg) rotateY(0.5deg); }
        50% { transform: perspective(1000px) rotateX(-0.5deg) rotateY(-0.5deg); }
        75% { transform: perspective(1000px) rotateX(0.3deg) rotateY(-0.3deg); }
        100% { transform: perspective(1000px) rotateX(0deg) rotateY(0deg); }
      }

      /* Degauss effect */
      @keyframes degauss {
        0% {
          transform: scale(1) rotate(0deg);
          filter: hue-rotate(0deg) brightness(1);
        }
        10% {
          transform: scale(1.05) rotate(5deg);
          filter: hue-rotate(90deg) brightness(1.2);
        }
        20% {
          transform: scale(1.1) rotate(-5deg);
          filter: hue-rotate(180deg) brightness(1.4);
        }
        30% {
          transform: scale(0.95) rotate(3deg);
          filter: hue-rotate(270deg) brightness(0.8);
        }
        40% {
          transform: scale(1.02) rotate(-3deg);
          filter: hue-rotate(360deg) brightness(1.1);
        }
        50% {
          transform: scale(1) rotate(0deg);
          filter: hue-rotate(0deg) brightness(1);
        }
        100% {
          transform: scale(1) rotate(0deg);
          filter: hue-rotate(0deg) brightness(1);
        }
      }

      .monitor-flicker {
        animation: flicker 0.1s infinite;
      }

      .monitor-distort {
        animation: distort 0.3s ease-in-out infinite;
      }

      .monitor-degauss {
        animation: degauss 2s ease-in-out;
      }

      /* --- CRT IMPLODE EFFECT --- */
      @keyframes crt-implode {
        0% {
          transform: scale(1) rotate(0deg);
          clip-path: inset(0 0 0 0);
          opacity: 1;
        }
        10% {
          transform: scale(1.05) rotate(2deg);
          clip-path: inset(2% 2% 2% 2%);
          opacity: 0.95;
        }
        20% {
          transform: scale(1.1) rotate(-2deg);
          clip-path: inset(5% 5% 5% 5%);
          opacity: 0.9;
        }
        30% {
          transform: scale(1.15) rotate(1deg);
          clip-path: inset(10% 10% 10% 10%);
          opacity: 0.8;
        }
        40% {
          transform: scale(1.2) rotate(-1deg);
          clip-path: inset(15% 15% 15% 15%);
          opacity: 0.7;
        }
        50% {
          transform: scale(1.3) rotate(0.5deg);
          clip-path: inset(25% 25% 25% 25%);
          opacity: 0.5;
        }
        60% {
          transform: scale(1.4) rotate(0deg);
          clip-path: inset(35% 35% 35% 35%);
          opacity: 0.3;
        }
        70% {
          transform: scale(1.6) rotate(0deg);
          clip-path: inset(45% 45% 45% 45%);
          opacity: 0.2;
        }
        80% {
          transform: scale(1.8) rotate(0deg);
          clip-path: inset(48% 48% 48% 48%);
          opacity: 0.1;
        }
        90% {
          transform: scale(2.0) rotate(0deg);
          clip-path: inset(49% 49% 49% 49%);
          opacity: 0.05;
        }
        100% {
          transform: scale(2.5) rotate(0deg);
          clip-path: inset(50% 50% 50% 50%);
          opacity: 0;
        }
      }

      .crt-implode {
        animation: crt-implode 1.5s ease-in-out forwards;
      }

      /* --- TYPEWRITER EFFECT --- */
      @keyframes typewriter {
        from { width: 0; }
        to { width: 100%; }
      }

      @keyframes blink-caret {
        from, to { border-color: transparent; }
        50% { border-color: #00ff41; }
      }

      .typewriter {
        overflow: hidden;
        border-right: 3px solid #00ff41;
        white-space: nowrap;
        animation:
          typewriter 2s steps(40, end),
          blink-caret 0.75s step-end infinite;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/"
  }
}
    </script>

    <!-- MATRIX PRELOADER -->
    <div id="matrix-preloader" class="fixed inset-0 bg-black z-[101]">
        <div id="matrix-wait-screen" class="absolute top-4 left-4">
            <div class="font-terminal text-retro-green text-lg">
                <span id="press-any-key">Press any key</span>
            </div>
        </div>
        <div id="matrix-terminal-screen" class="absolute top-4 left-4 hidden">
            <div class="font-terminal text-retro-green text-lg">
                <div id="matrix-terminal" class="flex flex-col">
                    <div id="matrix-line-1" class="text-retro-green">
                        <span id="matrix-prompt-1" class="text-retro-green">$ </span>
                        <span id="matrix-text-1" class="text-retro-green"></span>
                    </div>
                    <div id="matrix-line-2" class="text-retro-green mt-4 hidden">
                        <span id="matrix-prompt-2" class="text-retro-green">$ </span>
                        <span id="matrix-text-2" class="text-retro-green"></span>
                    </div>
                    <div id="matrix-line-3" class="text-retro-green mt-4 hidden">
                        <span id="matrix-prompt-3" class="text-retro-green">$ </span>
                        <span id="matrix-text-3" class="text-retro-green"></span>
                    </div>
                    <div id="matrix-line-4" class="text-retro-green mt-4 hidden">
                        <span id="matrix-prompt-4" class="text-retro-green">$ </span>
                        <span id="matrix-text-4" class="text-retro-green"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PRELOADER -->
    <div id="preloader" class="fixed inset-0 bg-black z-[100] flex items-center justify-center" style="display: none;">
        <div class="text-center">
            <div class="mb-8">
                <pre class="font-pixel text-retro-green text-2xl md:text-4xl leading-none">
██████╗ ███████╗████████╗██████╗  ██████╗
██╔══██╗██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗
██████╔╝█████╗     ██║   ██████╔╝██║   ██║
██╔══██╗██╔══╝     ██║   ██╔══██╗██║   ██║
██║  ██║███████╗   ██║   ██║  ██║╚██████╔╝
╚═╝  ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝

                 ███████╗███████╗███╗   ██╗███████╗
                 ██╔════╝██╔════╝████╗  ██║██╔════╝
                 ███████╗█████╗  ██╔██╗ ██║███████╗
                 ╚════██║██╔══╝  ██║╚██╗██║╚════██║
                 ███████║███████╗██║ ╚████║███████║
                 ╚══════╝╚══════╝╚═╝  ╚═══╝╚══════╝
                </pre>
            </div>

            <div class="font-terminal text-retro-green text-lg md:text-xl mb-6">
                <div id="bios-text" class="animate-pulse">Загрузка BIOS...</div>
                <div id="memory-text" class="mt-2 text-retro-amber" style="display: none;">Проверка оперативной памяти...</div>
                <div id="system-text" class="mt-2 text-retro-purple" style="display: none;">Инициализация системы...</div>
            </div>

            <div class="w-64 md:w-96 h-4 bg-gray-800 border border-retro-green mb-4">
                <div id="progress-bar" class="h-full bg-retro-green transition-all duration-300" style="width: 0%"></div>
            </div>

            <div class="font-terminal text-retro-green text-sm animate-pulse">
                RETRO_ZONE OS v1.0.0 | © 2024
            </div>
        </div>
    </div>

    <script>
        // --- MATRIX PRELOADER LOGIC ---
        function initMatrixPreloader() {
            const matrixPreloader = document.getElementById('matrix-preloader');
            const waitScreen = document.getElementById('matrix-wait-screen');
            const terminalScreen = document.getElementById('matrix-terminal-screen');

            const matrixDialog = [
                "Проснись, Нео ...",
                "Ты готов увидеть реальный мир?",
                "Следуй за белым кроликом",
                "Тук тук"
            ];

            let currentLine = 0;
            let currentChar = 0;

            function playTypingSound() {
                if (!audioContext) initAudio();
                const t = audioContext.currentTime;

                // Create a realistic mechanical keyboard sound
                // Main click sound - high frequency metallic ping
                const osc1 = audioContext.createOscillator();
                const gain1 = audioContext.createGain();
                osc1.type = 'triangle';
                osc1.frequency.setValueAtTime(1800, t);
                osc1.frequency.exponentialRampToValueAtTime(600, t + 0.02);
                gain1.gain.setValueAtTime(0, t);
                gain1.gain.linearRampToValueAtTime(0.08, t + 0.001);
                gain1.gain.exponentialRampToValueAtTime(0.001, t + 0.02);

                // Low frequency thump
                const osc2 = audioContext.createOscillator();
                const gain2 = audioContext.createGain();
                osc2.type = 'sine';
                osc2.frequency.setValueAtTime(120, t);
                osc2.frequency.exponentialRampToValueAtTime(80, t + 0.03);
                gain2.gain.setValueAtTime(0, t);
                gain2.gain.linearRampToValueAtTime(0.05, t + 0.001);
                gain2.gain.exponentialRampToValueAtTime(0.001, t + 0.03);

                // High frequency sizzle
                const osc3 = audioContext.createOscillator();
                const gain3 = audioContext.createGain();
                osc3.type = 'square';
                osc3.frequency.setValueAtTime(3200, t);
                osc3.frequency.exponentialRampToValueAtTime(2400, t + 0.01);
                gain3.gain.setValueAtTime(0, t);
                gain3.gain.linearRampToValueAtTime(0.03, t + 0.001);
                gain3.gain.exponentialRampToValueAtTime(0.001, t + 0.01);

                osc1.connect(gain1);
                gain1.connect(audioContext.destination);
                osc2.connect(gain2);
                gain2.connect(audioContext.destination);
                osc3.connect(gain3);
                gain3.connect(audioContext.destination);

                osc1.start(t);
                osc1.stop(t + 0.02);
                osc2.start(t);
                osc2.stop(t + 0.03);
                osc3.start(t);
                osc3.stop(t + 0.01);
            }

            function playKnockingSound() {
                if (!audioContext) initAudio();

                // Create realistic door knocking sounds
                const knocks = [0, 200, 400];
                knocks.forEach((delay, index) => {
                    setTimeout(() => {
                        const t = audioContext.currentTime;

                        // Main impact sound - wooden thump
                        const osc1 = audioContext.createOscillator();
                        const gain1 = audioContext.createGain();
                        osc1.type = 'sawtooth';
                        osc1.frequency.setValueAtTime(80 + index * 20, t);
                        osc1.frequency.exponentialRampToValueAtTime(60, t + 0.15);
                        gain1.gain.setValueAtTime(0, t);
                        gain1.gain.linearRampToValueAtTime(0.15 + index * 0.1, t + 0.005);
                        gain1.gain.exponentialRampToValueAtTime(0.001, t + 0.15);

                        // Resonance - wooden echo
                        const osc2 = audioContext.createOscillator();
                        const gain2 = audioContext.createGain();
                        osc2.type = 'sine';
                        osc2.frequency.setValueAtTime(120 + index * 30, t);
                        osc2.frequency.exponentialRampToValueAtTime(90, t + 0.3);
                        gain2.gain.setValueAtTime(0, t + 0.01);
                        gain2.gain.linearRampToValueAtTime(0.08, t + 0.01);
                        gain2.gain.exponentialRampToValueAtTime(0.001, t + 0.3);

                        // High frequency click
                        const osc3 = audioContext.createOscillator();
                        const gain3 = audioContext.createGain();
                        osc3.type = 'triangle';
                        osc3.frequency.setValueAtTime(800, t);
                        osc3.frequency.exponentialRampToValueAtTime(400, t + 0.05);
                        gain3.gain.setValueAtTime(0, t);
                        gain3.gain.linearRampToValueAtTime(0.06, t + 0.001);
                        gain3.gain.exponentialRampToValueAtTime(0.001, t + 0.05);

                        // Apply low-pass filter for wood-like sound
                        const filter1 = audioContext.createBiquadFilter();
                        filter1.type = 'lowpass';
                        filter1.frequency.setValueAtTime(600, t);
                        filter1.Q.setValueAtTime(2, t);

                        const filter2 = audioContext.createBiquadFilter();
                        filter2.type = 'lowpass';
                        filter2.frequency.setValueAtTime(800, t);
                        filter2.Q.setValueAtTime(1.5, t);

                        osc1.connect(filter1);
                        filter1.connect(gain1);
                        gain1.connect(audioContext.destination);

                        osc2.connect(filter2);
                        filter2.connect(gain2);
                        gain2.connect(audioContext.destination);

                        osc3.connect(gain3);
                        gain3.connect(audioContext.destination);

                        osc1.start(t);
                        osc1.stop(t + 0.15);
                        osc2.start(t);
                        osc2.stop(t + 0.3);
                        osc3.start(t);
                        osc3.stop(t + 0.05);
                    }, delay);
                });
            }

            function typeWriter() {
                if (currentLine < matrixDialog.length) {
                    const line = matrixDialog[currentLine];
                    const textElement = document.getElementById(`matrix-text-${currentLine + 1}`);

                    if (currentChar < line.length) {
                        // Play typing sound for each character
                        playTypingSound();
                        textElement.textContent += line.charAt(currentChar);
                        currentChar++;
                        setTimeout(typeWriter, 120);
                    } else {
                        // Line completed
                        currentLine++;
                        currentChar = 0;

                        if (currentLine < matrixDialog.length) {
                            // Show next line
                            const nextLineElement = document.getElementById(`matrix-line-${currentLine + 1}`);
                            nextLineElement.style.display = 'block';
                            setTimeout(typeWriter, 1500); // Pause between lines
                        } else {
                            // Last line completed - play knocking sound after "Тук тук"
                            setTimeout(() => {
                                playKnockingSound();
                                // Start CRT implode effect after knocking
                                setTimeout(() => {
                                    matrixPreloader.classList.add('crt-implode');
                                    setTimeout(() => {
                                        matrixPreloader.style.display = 'none';
                                        // Start BIOS preloader
                                        initBIOSPreloader();
                                    }, 1500); // Wait for implode animation
                                }, 1000);
                            }, 500);
                        }
                    }
                }
            }

            // Wait for user interaction
            function startMatrixSequence() {
                // Hide wait screen and show terminal
                waitScreen.style.display = 'none';
                terminalScreen.style.display = 'block';

                // Start typing after a brief pause
                setTimeout(typeWriter, 1000);
            }

            // Add event listeners for user interaction
            function handleUserInteraction() {
                document.removeEventListener('keydown', handleUserInteraction);
                document.removeEventListener('click', handleUserInteraction);
                startMatrixSequence();
            }

            document.addEventListener('keydown', handleUserInteraction);
            document.addEventListener('click', handleUserInteraction);
        }

        // --- BIOS PRELOADER LOGIC ---
        function initBIOSPreloader() {
            const preloader = document.getElementById('preloader');
            const progressBar = document.getElementById('progress-bar');
            const biosText = document.getElementById('bios-text');
            const memoryText = document.getElementById('memory-text');
            const systemText = document.getElementById('system-text');

            // Show BIOS preloader
            preloader.style.display = 'flex';

            let progress = 0;
            let stage = 0;

            const stages = [
                { text: "Загрузка BIOS...", element: biosText, duration: 1500 },
                { text: "Проверка оперативной памяти...", element: memoryText, duration: 2000 },
                { text: "Инициализация системы...", element: systemText, duration: 1500 }
            ];

            function updateProgress() {
                if (progress >= 100) {
                    // Hide preloader and show content
                    preloader.style.opacity = '0';
                    setTimeout(() => {
                        preloader.style.display = 'none';
                    }, 500);
                    return;
                }

                progress += Math.random() * 12 + 8; // Smoother progress increment
                if (progress > 100) progress = 100;

                progressBar.style.width = progress + '%';

                // Update stages
                if (stage < stages.length && progress >= (stage + 1) * (100 / stages.length)) {
                    if (stage > 0) stages[stage - 1].element.style.display = 'none';
                    stages[stage].element.style.display = 'block';
                    stage++;
                }

                setTimeout(updateProgress, Math.random() * 150 + 100);
            }

            updateProgress();
        }

        // Initialize audio context first (needs user interaction in some browsers)
        let audioInitialized = false;

        function initializeAudioOnInteraction() {
            if (!audioInitialized) {
                initAudio();
                audioInitialized = true;
                document.removeEventListener('click', initializeAudioOnInteraction);
                document.removeEventListener('keydown', initializeAudioOnInteraction);
                document.removeEventListener('touchstart', initializeAudioOnInteraction);
                console.log('Audio context initialized');
            }
        }

        // Add event listeners to initialize audio on first user interaction
        document.addEventListener('click', initializeAudioOnInteraction);
        document.addEventListener('keydown', initializeAudioOnInteraction);
        document.addEventListener('touchstart', initializeAudioOnInteraction);

        // Initialize Matrix preloader immediately - it will play sounds only after audio is initialized
        initMatrixPreloader();
    </script>
</head>
<body class="selection:bg-retro-green selection:text-black">

    <!-- CANVAS LAYERS -->
    <canvas id="matrix-canvas" class="fixed top-0 left-0 w-full h-full z-0 pointer-events-none"></canvas>
    
    <div id="crt-overlay" class="fixed inset-0 pointer-events-none z-50 overflow-hidden w-full h-full monitor-flicker monitor-distort">
        <div class="absolute inset-0 scanlines opacity-30"></div>
        <div class="absolute inset-0 vignette"></div>
        <div class="absolute inset-0 bg-retro-green mix-blend-overlay opacity-[0.03]"></div>
    </div>

    <canvas id="effects-canvas" class="fixed inset-0 pointer-events-none z-50"></canvas>

    <!-- SNAKE GAME MODAL -->
    <div id="snake-game" class="fixed inset-0 bg-black/80 flex items-center justify-center" style="display: none; z-index: 9999; align-items: center; justify-content: center;">
        <!-- START SCREEN -->
        <div id="snake-start" class="bg-retro-black border-2 border-retro-green p-8 shadow-[0_0_20px_rgba(0,255,65,0.5)] text-center">
            <h3 class="font-pixel text-retro-green text-2xl mb-6">ЗМЕЙКА</h3>
            <p class="font-terminal text-retro-amber text-lg mb-8">НУ, ЧТО? РУБАНЕМСЯ?<br/>ПОБЕДИТЕЛЮ СКИДКА!</p>
            <button onclick="startSnakeGame()" class="bg-retro-green text-black px-6 py-3 font-pixel text-lg hover:bg-retro-amber transition-colors">ПОЕХАЛИ</button>
        </div>

        <!-- GAME SCREEN -->
        <div id="snake-gameplay" class="bg-retro-black border-2 border-retro-green p-4 shadow-[0_0_20px_rgba(0,255,65,0.5)] max-w-md w-full mx-auto" style="display: none;">
            <h3 class="font-pixel text-retro-green text-center mb-4">ЗМЕЙКА</h3>

            <!-- GameBoy Style Container -->
            <div class="gameboy-container bg-gray-800 border-4 border-gray-600 rounded-lg p-4 mx-auto max-w-sm shadow-2xl relative overflow-hidden">
                <!-- GameBoy Screen -->
                <div class="gameboy-screen bg-black border-2 border-gray-400 rounded-sm p-2 mb-4 relative">
                    <!-- Screen Bezel -->
                    <div class="absolute inset-0 bg-gradient-to-b from-gray-700 to-gray-800 rounded-sm pointer-events-none"></div>

                    <!-- LCD Screen Effect -->
                    <div class="relative bg-green-900 rounded-sm overflow-hidden border border-green-400 shadow-inner" style="aspect-ratio: 1;">
                        <!-- CRT Scanlines -->
                        <div class="absolute inset-0 opacity-30 pointer-events-none" style="background-image: linear-gradient(0deg, transparent 50%, rgba(0,255,0,0.1) 50%); background-size: 100% 2px;"></div>

                        <!-- Game Canvas -->
                        <canvas id="snake-canvas" width="320" height="320" class="block w-full h-full pixelated" style="width: 320px; height: 320px;"></canvas>
                    </div>

                    <!-- Screen Reflection -->
                    <div class="absolute top-1 left-1 right-1 bottom-1 bg-gradient-to-br from-white/10 to-transparent rounded-sm pointer-events-none"></div>
                </div>

                <!-- GameBoy Controls -->
                <div class="flex justify-between items-center">
                    <!-- D-Pad -->
                    <div class="dpad-container">
                        <div class="dpad bg-gray-700 border-2 border-gray-500 rounded-full w-28 h-28 relative shadow-lg">
                            <!-- D-Pad Buttons -->
                            <button id="up-btn" class="absolute top-1 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-gray-600 border-2 border-gray-400 rounded-md hover:bg-gray-500 active:bg-gray-800 transition-all cursor-pointer shadow-lg z-20 pointer-events-auto">
                                <div class="w-full h-full bg-gradient-to-b from-gray-500 to-gray-700 rounded-md flex items-center justify-center">
                                    <div class="w-2 h-3 bg-gray-800 rounded-sm"></div>
                                </div>
                            </button>
                            <button id="down-btn" class="absolute bottom-1 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-gray-600 border-2 border-gray-400 rounded-md hover:bg-gray-500 active:bg-gray-800 transition-all cursor-pointer shadow-lg z-20 pointer-events-auto">
                                <div class="w-full h-full bg-gradient-to-b from-gray-500 to-gray-700 rounded-md flex items-center justify-center">
                                    <div class="w-2 h-3 bg-gray-800 rounded-sm"></div>
                                </div>
                            </button>
                            <button id="left-btn" class="absolute left-1 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gray-600 border-2 border-gray-400 rounded-md hover:bg-gray-500 active:bg-gray-800 transition-all cursor-pointer shadow-lg z-20 pointer-events-auto">
                                <div class="w-full h-full bg-gradient-to-r from-gray-500 to-gray-700 rounded-md flex items-center justify-center">
                                    <div class="h-2 w-3 bg-gray-800 rounded-sm"></div>
                                </div>
                            </button>
                            <button id="right-btn" class="absolute right-1 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gray-600 border-2 border-gray-400 rounded-md hover:bg-gray-500 active:bg-gray-800 transition-all cursor-pointer shadow-lg z-20 pointer-events-auto">
                                <div class="w-full h-full bg-gradient-to-r from-gray-500 to-gray-700 rounded-md flex items-center justify-center">
                                    <div class="h-2 w-3 bg-gray-800 rounded-sm"></div>
                                </div>
                            </button>
                            <!-- Center Circle -->
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="w-8 h-8 bg-gray-800 border border-gray-600 rounded-full shadow-inner"></div>
                            </div>
                        </div>
                    </div>

                    <!-- AB Buttons -->
                    <div class="flex flex-col gap-2">
                        <button id="a-btn" class="w-10 h-10 bg-red-600 border-2 border-red-400 rounded-full shadow-lg hover:bg-red-500 active:bg-red-800 transition-colors flex items-center justify-center cursor-pointer">
                            <span class="font-pixel text-white text-xs">A</span>
                        </button>
                        <button id="b-btn" class="w-10 h-10 bg-blue-600 border-2 border-blue-400 rounded-full shadow-lg hover:bg-blue-500 active:bg-blue-800 transition-colors flex items-center justify-center cursor-pointer">
                            <span class="font-pixel text-white text-xs">B</span>
                        </button>
                    </div>
                </div>

                <!-- GameBoy Branding -->
                <div class="text-center mt-4">
                    <div class="font-pixel text-gray-400 text-xs">NINTENDO</div>
                    <div class="font-pixel text-gray-300 text-xs">GAME BOY</div>
                </div>
            </div>

            <!-- Score and Controls -->
            <div id="snake-score" class="font-terminal text-retro-green text-center mt-4">Осталось: 20</div>
            <div class="flex justify-between mt-4">
                <button onclick="toggleMusic()" id="music-btn" class="bg-retro-amber text-black px-4 py-2 font-pixel">МУЗЫКА: ВКЛ</button>
                <button onclick="closeSnake()" class="bg-retro-green text-black px-4 py-2 font-pixel">ВЫХОД</button>
            </div>
        </div>

        <!-- WIN SCREEN -->
        <div id="snake-win" class="bg-retro-black border-2 border-retro-green p-8 shadow-[0_0_20px_rgba(0,255,65,0.5)] text-center" style="display: none;">
            <h3 class="font-pixel text-retro-green text-2xl mb-6">ПОБЕДА!</h3>
            <p class="font-terminal text-retro-amber text-lg mb-8">ТЫ ВЫИГРАЛ!<br/>ПРОМОКОД ДЛЯ СКИДКИ 20%<br/>МОРФЕУС</p>
            <button onclick="closeSnake()" class="bg-retro-green text-black px-6 py-3 font-pixel text-lg hover:bg-retro-amber transition-colors">ОК</button>
        </div>

        <!-- LOSE SCREEN -->
        <div id="snake-lose" class="bg-retro-black border-2 border-retro-green p-8 shadow-[0_0_20px_rgba(0,255,65,0.5)] text-center" style="display: none;">
            <h3 class="font-pixel text-red-500 text-2xl mb-6">ПРОИГРЫШ!</h3>
            <p class="font-terminal text-retro-amber text-lg mb-8">ТЫ ПРОИГРАЛ!<br/>ПОПРОБУЙ В СЛЕДУЮЩИЙ РАЗ,<br/>МОЖЕТ ТЕБЕ ПОВЕЗЁТ!</p>
            <button onclick="closeSnake()" class="bg-retro-green text-black px-6 py-3 font-pixel text-lg hover:bg-retro-amber transition-colors">ОК</button>
        </div>
    </div>

    <!-- NAVIGATION -->
    <nav class="sticky top-0 z-40 w-full backdrop-blur-md bg-black/60 border-b border-white/10 py-4">
        <div class="max-w-7xl mx-auto flex flex-wrap justify-center gap-4">
            <!-- Game Button -->
            <div class="relative inline-block m-2 group">
                <div class="absolute inset-0 bg-gray-800 rounded-md translate-y-2 translate-x-1 w-full h-full"></div>
                <button onclick="handleNavClick('games', 'green', event)" class="relative font-pixel text-xs sm:text-sm font-bold uppercase tracking-widest px-6 py-4 sm:px-8 sm:py-5 bg-mech-bg text-gray-700 border-t-[4px] border-l-[4px] border-mech-light border-b-[6px] border-r-[6px] border-mech-dark rounded-md transition-all duration-75 active:translate-y-2 active:translate-x-1 active:border-b-[0px] active:border-r-[0px] active:border-t-[2px] active:border-l-[2px] hover:brightness-110 focus:outline-none shadow-[0px_10px_0px_0px_rgba(0,0,0,0.3)] active:shadow-none overflow-hidden">
                    <span class="text-retro-green-dim drop-shadow-sm relative z-10">ИГРЫ</span>
                    <div class="absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-30 transition-opacity duration-300 z-0 btn-scanlines"></div>
                </button>
                <div class="absolute -inset-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10 blur-md bg-retro-green"></div>
            </div>

            <!-- Pricing Button -->
            <div class="relative inline-block m-2 group">
                <div class="absolute inset-0 bg-gray-800 rounded-md translate-y-2 translate-x-1 w-full h-full"></div>
                <button onclick="handleNavClick('prices', 'amber', event)" class="relative font-pixel text-xs sm:text-sm font-bold uppercase tracking-widest px-6 py-4 sm:px-8 sm:py-5 bg-mech-bg text-gray-700 border-t-[4px] border-l-[4px] border-mech-light border-b-[6px] border-r-[6px] border-mech-dark rounded-md transition-all duration-75 active:translate-y-2 active:translate-x-1 active:border-b-[0px] active:border-r-[0px] active:border-t-[2px] active:border-l-[2px] hover:brightness-110 focus:outline-none shadow-[0px_10px_0px_0px_rgba(0,0,0,0.3)] active:shadow-none overflow-hidden">
                    <span class="text-retro-amber drop-shadow-sm relative z-10">ЦЕНЫ</span>
                    <div class="absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-30 transition-opacity duration-300 z-0 btn-scanlines"></div>
                </button>
                <div class="absolute -inset-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10 blur-md bg-retro-amber"></div>
            </div>

            <!-- Online Game Button -->
            <div class="relative inline-block m-2 group">
                <div class="absolute inset-0 bg-gray-800 rounded-md translate-y-2 translate-x-1 w-full h-full"></div>
                <button onclick="handleSnakeClick()" class="relative font-pixel text-xs sm:text-sm font-bold uppercase tracking-widest px-6 py-4 sm:px-8 sm:py-5 bg-mech-bg text-gray-700 border-t-[4px] border-l-[4px] border-mech-light border-b-[6px] border-r-[6px] border-mech-dark rounded-md transition-all duration-75 active:translate-y-2 active:translate-x-1 active:border-b-[0px] active:border-r-[0px] active:border-t-[2px] active:border-l-[2px] hover:brightness-110 focus:outline-none shadow-[0px_10px_0px_0px_rgba(0,0,0,0.3)] active:shadow-none overflow-hidden shimmer">
                    <span class="text-red-500 drop-shadow-sm relative z-10">ИГРА ОН-ЛАЙН</span>
                    <div class="absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-30 transition-opacity duration-300 z-0 btn-scanlines"></div>
                </button>
                <div class="absolute -inset-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10 blur-md bg-retro-amber"></div>
            </div>

            <!-- Contacts Button -->
            <div class="relative inline-block m-2 group">
                <div class="absolute inset-0 bg-gray-800 rounded-md translate-y-2 translate-x-1 w-full h-full"></div>
                <button onclick="handleNavClick('contact', 'purple', event)" class="relative font-pixel text-xs sm:text-sm font-bold uppercase tracking-widest px-6 py-4 sm:px-8 sm:py-5 bg-mech-bg text-gray-700 border-t-[4px] border-l-[4px] border-mech-light border-b-[6px] border-r-[6px] border-mech-dark rounded-md transition-all duration-75 active:translate-y-2 active:translate-x-1 active:border-b-[0px] active:border-r-[0px] active:border-t-[2px] active:border-l-[2px] hover:brightness-110 focus:outline-none shadow-[0px_10px_0px_0px_rgba(0,0,0,0.3)] active:shadow-none overflow-hidden">
                    <span class="text-retro-purple drop-shadow-sm relative z-10">КОНТАКТЫ</span>
                    <div class="absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-30 transition-opacity duration-300 z-0 btn-scanlines"></div>
                </button>
                <div class="absolute -inset-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10 blur-md bg-retro-purple"></div>
            </div>
        </div>
    </nav>

    <main class="relative z-10">
        <!-- HERO SECTION -->
        <section id="hero" class="min-h-[80vh] flex flex-col justify-center items-center text-center p-4 relative z-10">
            <div class="bg-black/60 p-8 border-2 border-retro-green shadow-[0_0_20px_rgba(0,255,65,0.4)] backdrop-blur-sm relative overflow-hidden">
                <pre class="font-terminal text-retro-green text-[0.6rem] sm:text-xs md:text-sm lg:text-base leading-[1.1] whitespace-pre hidden sm:block select-none">
  _____      _                 ______               
 |  __ \    | |               |___  /               
 | |__) |___| |_ _ __ ___        / / ___  _ __   ___ 
 |  _  // _ \ __| '__/ _ \      / / / _ \| '_ \ / _ \
 | | \ \  __/ |_| | | (_) |    / /_| (_) | | | |  __/
 |_|  \_\___|\__|_|  \___/    /_____\___/|_| |_|\___|
                                                     
                </pre>
                
                <h1 class="font-pixel text-4xl text-retro-green block sm:hidden mb-8">RETRO<br/>ZONE</h1>
        
                <div class="mt-8 font-terminal text-retro-amber text-xl md:text-2xl animate-pulse">
                  &gt; СИСТЕМА ГОТОВА...<br/>
                  &gt; ВСТАВЬТЕ МОНЕТУ...
                </div>
        
                <div class="mt-12 max-w-2xl text-gray-300 font-pixel text-xs sm:text-sm leading-8">
                  ДОБРО ПОЖАЛОВАТЬ В ЦЕНТР НОСТАЛЬГИИ.<br/>
                  LAN ТУРНИРЫ. РЕТРО ЖЕЛЕЗО. ЧИСТЫЙ СКИЛЛ.<br/>
                  <span class="text-retro-purple">БЕЗ ЛАГОВ. БЕЗ DLC. ТОЛЬКО ИГРА.</span>
                </div>
        

            </div>
        </section>

        <!-- GAMES SECTION -->
        <section id="games" class="py-20 px-4 max-w-6xl mx-auto relative z-10">
            <div class="mb-12 border-b-4 border-retro-green inline-block pr-12">
                <h2 class="text-3xl font-pixel text-white mb-2">БИБЛИОТЕКА_ИГР.EXE</h2>
            </div>
    
            <div id="games-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Games will be injected by JS or hardcoded below -->
                <!-- Hardcoding for Single File Reliability -->
                
                <!-- CS 1.6 -->
                <div class="group relative game-card">
                  <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                  <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                    <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                      <!-- Art -->
                      <div class="w-full h-full relative z-10 bg-[#2a3038] overflow-hidden">
                        <div class="absolute inset-0 opacity-20" style="background-image: radial-gradient(#4a5568 20%, transparent 20%), radial-gradient(#4a5568 20%, transparent 20%); background-size: 20px 20px; background-position: 0 0, 10px 10px;"></div>
                        <div class="absolute inset-0 flex items-center justify-center"><div class="w-24 h-24 border-2 border-green-500 rounded-full flex items-center justify-center opacity-80 shadow-[0_0_10px_#0f0]"><div class="w-0.5 h-6 bg-green-500 absolute"></div><div class="w-6 h-0.5 bg-green-500 absolute"></div><div class="w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse"></div></div></div>
                        <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                      </div>
                      <!-- Glitch Layer -->
                      <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70">
                         <div class="w-full h-full bg-[#2a3038]"><div class="absolute inset-0 flex items-center justify-center"><div class="w-24 h-24 border-2 border-green-500 rounded-full flex items-center justify-center"><div class="w-0.5 h-6 bg-green-500 absolute"></div><div class="w-6 h-0.5 bg-green-500 absolute"></div></div></div></div>
                      </div>
                      <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                      <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">2000</span></div>
                    </div>
                    <div class="p-2 flex-grow flex flex-col justify-between relative z-10">

                      <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">FPS</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                    </div>
                  </div>
                </div>

                <!-- Warcraft III -->
                <div class="group relative game-card">
                    <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                    <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                      <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                        <div class="w-full h-full relative z-10 bg-gradient-to-b from-blue-900 to-black overflow-hidden">
                           <div class="absolute top-0 left-0 w-full h-full opacity-60"><div class="absolute top-0 left-1/4 w-12 h-32 bg-cyan-400 blur-xl transform -rotate-12 mix-blend-screen"></div><div class="absolute top-10 right-1/4 w-8 h-24 bg-blue-400 blur-lg transform rotate-12 mix-blend-screen"></div></div>
                           <div class="absolute inset-0 flex items-center justify-center"><div class="w-20 h-20 border-4 border-cyan-500 rotate-45 flex items-center justify-center shadow-[0_0_20px_cyan] bg-black/30 backdrop-blur-sm"><div class="w-12 h-12 border-2 border-white rotate-45"></div></div></div>
                           <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                        </div>
                        <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70"><div class="w-full h-full bg-blue-900"></div></div>
                        <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                        <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">2002</span></div>
                      </div>
                      <div class="p-2 flex-grow flex flex-col justify-between relative z-10">
                        <h3 class="font-pixel text-retro-green text-sm leading-tight mb-2 group-hover:text-retro-amber transition-colors">WARCRAFT III</h3>
                      <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">RTS</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                      </div>
                    </div>
                </div>

                <!-- Quake III -->
                <div class="group relative game-card">
                    <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                    <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                      <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                        <div class="w-full h-full relative z-10 bg-[#3e0e0e] overflow-hidden">
                           <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-orange-600 via-red-900 to-black opacity-90"></div>
                           <div class="absolute inset-0 flex items-center justify-center"><div class="w-24 h-24 border-8 border-orange-700 rounded-full relative shadow-[0_0_25px_orange] box-border"><div class="absolute bottom-1 left-1/2 w-4 h-14 bg-orange-700 transform -translate-x-1/2 translate-y-1/2 shadow-lg"></div><div class="absolute top-1/2 left-1/2 w-12 h-4 bg-orange-700 transform -translate-x-1/2 -translate-y-1/2 rotate-45"></div></div></div>
                           <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                        </div>
                        <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70"><div class="w-full h-full bg-red-900"></div></div>
                        <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                        <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">1999</span></div>
                      </div>
                      <div class="p-2 flex-grow flex flex-col justify-between relative z-10">
                        <h3 class="font-pixel text-retro-green text-sm leading-tight mb-2 group-hover:text-retro-amber transition-colors">QUAKE III</h3>
                      <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">ARENA</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                      </div>
                    </div>
                </div>

                <!-- StarCraft -->
                <div class="group relative game-card">
                    <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                    <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                      <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                        <div class="w-full h-full relative z-10 bg-black overflow-hidden">
                           <div class="absolute inset-0" style="background-image: radial-gradient(white 1px, transparent 1px); background-size: 30px 30px; opacity: 0.6;"></div>
                           <div class="absolute -bottom-10 -right-10 w-40 h-40 bg-blue-600 rounded-full blur-md opacity-80 shadow-[0_0_50px_blue]"></div>
                           <div class="absolute inset-0 flex items-center justify-center"><div class="w-28 h-28 border-2 border-blue-400 rounded-full border-dashed animate-[spin_10s_linear_infinite] opacity-80"></div><div class="w-20 h-20 border border-blue-300 rounded-full border-dotted animate-[spin_5s_linear_infinite_reverse] opacity-60 absolute"></div></div>
                           <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                        </div>
                        <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70"><div class="w-full h-full bg-blue-900"></div></div>
                        <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                        <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">1998</span></div>
                      </div>
                      <div class="p-2 flex-grow flex flex-col justify-between relative z-10">
                        <h3 class="font-pixel text-retro-green text-sm leading-tight mb-2 group-hover:text-retro-amber transition-colors">STARCRAFT</h3>
                        <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">RTS</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                      </div>
                    </div>
                </div>

                <!-- Diablo II -->
                <div class="group relative game-card">
                  <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                  <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                    <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                      <div class="w-full h-full relative z-10 bg-black overflow-hidden">
                         <div class="absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-red-700 to-transparent opacity-70 mix-blend-color-dodge"></div>
                         <div class="absolute inset-0 flex items-center justify-center"><svg viewBox="0 0 100 100" class="w-24 h-24 stroke-red-600 fill-none stroke-2 opacity-90 drop-shadow-[0_0_8px_red]"><polygon points="50,5 63,90 2,35 98,35 37,90" /><circle cx="50" cy="50" r="48" class="stroke-red-800" /></svg></div>
                         <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                      </div>
                      <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70"><div class="w-full h-full bg-red-950"></div></div>
                      <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                      <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">2000</span></div>
                    </div>
                    <div class="p-2 flex-grow flex flex-col justify-between relative z-10">
                      <h3 class="font-pixel text-retro-green text-sm leading-tight mb-2 group-hover:text-retro-amber transition-colors">DIABLO II</h3>
                      <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">RPG</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                    </div>
                  </div>
                </div>

                <!-- Half-Life -->
                <div class="group relative game-card">
                  <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                  <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                    <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                      <div class="w-full h-full relative z-10 bg-[#1a1a1a] overflow-hidden border-2 border-orange-500/20">
                         <div class="absolute inset-0 flex items-center justify-center"><div class="w-28 h-28 bg-orange-500 rounded-full blur-3xl opacity-30 animate-pulse"></div><div class="text-7xl font-sans font-bold text-orange-500 tracking-tighter select-none scale-150 drop-shadow-[0_0_10px_orange]">λ</div></div>
                         <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                      </div>
                      <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70"><div class="w-full h-full bg-orange-900"></div></div>
                      <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                      <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">1998</span></div>
                    </div>
                    <div class="p-2 flex-grow flex flex-col justify-between relative z-10">
                      <h3 class="font-pixel text-retro-green text-sm leading-tight mb-2 group-hover:text-retro-amber transition-colors">HALF-LIFE</h3>
                      <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">FPS</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                    </div>
                  </div>
                </div>

                <!-- DOTA -->
                <div class="group relative game-card">
                  <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                  <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                    <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                      <div class="w-full h-full relative z-10 bg-gray-900 overflow-hidden">
                         <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-green-900 via-transparent to-red-900 opacity-90"></div>
                         <div class="absolute inset-0 flex items-center justify-center"><div class="w-40 h-2 bg-gradient-to-r from-blue-400 to-blue-600 opacity-40 transform -rotate-45 shadow-[0_0_10px_blue]"></div><div class="absolute w-4 h-4 bg-red-600 rounded-full top-1/4 right-1/4 blur-sm animate-pulse"></div><div class="absolute w-4 h-4 bg-green-600 rounded-full bottom-1/4 left-1/4 blur-sm animate-pulse"></div></div>
                         <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                      </div>
                      <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70"><div class="w-full h-full bg-purple-900"></div></div>
                      <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                      <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">2003</span></div>
                    </div>
                    <div class="p-2 flex-grow flex flex-col justify-between relative z-10">
                      <h3 class="font-pixel text-retro-green text-sm leading-tight mb-2 group-hover:text-retro-amber transition-colors">DOTA</h3>
                      <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">MOBA</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                    </div>
                  </div>
                </div>

                <!-- UT 2004 -->
                <div class="group relative game-card">
                  <div class="absolute -inset-1 bg-retro-green opacity-0 group-hover:opacity-100 blur transition duration-500"></div>
                  <div class="relative bg-retro-black border-2 border-retro-green p-2 h-full flex flex-col transition-transform duration-300 group-hover:-translate-y-1 overflow-hidden">
                    <div class="w-full aspect-square mb-4 relative overflow-hidden border border-white/10 group-hover:border-white/40 transition-colors">
                      <div class="w-full h-full relative z-10 bg-[#222] overflow-hidden">
                         <div class="absolute inset-0 bg-gradient-to-tr from-yellow-800/40 via-yellow-500/20 to-transparent"></div>
                         <div class="absolute inset-0 flex items-center justify-center"><div class="text-7xl font-black text-yellow-600 drop-shadow-[0_2px_0_rgba(255,255,255,0.2)]">U</div><div class="absolute text-7xl font-black text-yellow-500 blur-sm opacity-50">U</div></div>
                         <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIwLjIiIC8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMSIgLz4KPC9zdmc+')] opacity-50 pointer-events-none"></div>
                      </div>
                      <div class="glitch-layer absolute inset-0 z-20 hidden pointer-events-none mix-blend-hard-light opacity-70"><div class="w-full h-full bg-yellow-900"></div></div>
                      <div class="absolute inset-0 z-30 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"></div>
                      <div class="absolute bottom-2 right-2 bg-black/80 px-2 py-1 border border-retro-green/50 z-40"><span class="text-retro-green font-pixel text-[10px]">2004</span></div>
                    </div>
                    <div class="p-2 flex-grow flex flex-col justify-between relative z-10">
                      <h3 class="font-pixel text-retro-green text-sm leading-tight mb-2 group-hover:text-retro-amber transition-colors">UT 2004</h3>
                      <div class="flex justify-between items-end border-t border-retro-green/30 pt-2"><span class="font-terminal text-retro-amber text-lg">ARENA</span><span class="font-terminal text-gray-500 text-sm group-hover:text-white transition-colors animate-pulse idle-blink">READY</span></div>
                    </div>
                  </div>
                </div>

            </div>
        </section>

        <!-- PRICING SECTION -->
        <section id="prices" class="py-20 px-4 relative z-10 bg-retro-black/80">
            <div class="max-w-4xl mx-auto border-4 border-double border-retro-purple p-8">
              <h2 class="text-center font-pixel text-retro-purple text-2xl mb-8 blink">ПРАЙС_ЛИСТ</h2>
              
              <div class="font-terminal text-lg md:text-xl text-retro-green space-y-4">
                <div class="flex justify-between border-b border-dashed border-gray-600 pb-2"><span>Стандарт_Час</span><span>100 ₽</span></div>
                <div class="flex justify-between border-b border-dashed border-gray-600 pb-2"><span>Пакет_Ночь (22:00 - 06:00)</span><span>400 ₽</span></div>
                <div class="flex justify-between border-b border-dashed border-gray-600 pb-2"><span>Пакет_День (10:00 - 22:00)</span><span>600 ₽</span></div>
                <div class="flex justify-between border-b border-dashed border-gray-600 pb-2"><span>Воин_Выходного_Дня (Пт-Вс)</span><span>1500 ₽</span></div>
                <div class="flex justify-between text-retro-amber pt-4"><span>VIP_Комната (Консоль + Диван)</span><span>+ 150 ₽/час</span></div>
              </div>
      
              <div class="mt-8 text-center">
                 <p class="font-pixel text-xs text-gray-500 uppercase">
                   * Скидка 10% на снеки для членов клуба<br/>
                   * Сохранение на дискету: Бесплатно
                 </p>
              </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer id="contact" class="py-12 bg-gray-900 border-t-4 border-retro-green relative z-10">
        <div class="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8 font-terminal text-white">
          
          <!-- Contact Info -->
          <div>
            <h3 class="font-pixel text-retro-green mb-4">КОНТАКТЫ</h3>
            <ul class="space-y-4 text-xl mb-8">
               <li class="flex items-center"><span class="text-retro-amber mr-2">АДРЕС:</span> Цокольный этаж, Сектор 7, дом 42</li>
               <li class="flex items-center"><span class="text-retro-amber mr-2">ТЕЛЕФОН:</span> 555-1337-99</li>
               <li class="flex items-center group overflow-visible">
                 <span class="text-retro-amber mr-2">ПОЧТА:</span> admin@retro.zone
                 <!-- Animated Floppy Drive -->
                 <div class="ml-4 w-14 h-8 bg-[#C0C0C0] border-t-2 border-l-2 border-white border-b-2 border-r-2 border-gray-600 relative flex items-center justify-center rounded-sm shadow-md">
                    <div class="absolute inset-0 bg-[#d4d4d4] z-20 flex flex-col items-center justify-center px-1">
                      <div class="w-full h-1.5 bg-black rounded-full mb-1 border-b border-gray-500"></div>
                      <div class="w-full flex justify-between px-1 mt-0.5 items-center">
                        <div class="w-2 h-1 bg-gray-700 animate-drive-led border border-gray-500"></div>
                        <div class="w-3 h-1.5 bg-gray-500 border-t border-l border-white border-b border-r border-gray-700 active:border-inset"></div>
                      </div>
                    </div>
                    <div class="w-10 h-6 bg-blue-700 absolute z-10 animate-floppy-cycle rounded-[1px] flex flex-col items-center pt-0.5 shadow-sm border border-blue-900">
                       <div class="w-6 h-3 bg-gray-300 rounded-sm overflow-hidden relative"><div class="w-1.5 h-full bg-black/20 ml-1 absolute"></div></div>
                       <div class="w-8 h-1.5 bg-white mt-0.5"></div>
                    </div>
                 </div>
               </li>
            </ul>
  
            <!-- Interactive Terminal -->
            <div class="bg-black p-4 border border-gray-700 font-terminal text-retro-green hidden md:block shadow-inner min-h-[120px]">
              <div id="terminal-output" class="flex flex-col gap-1 mb-2 min-h-[80px]">
                <p>server@retro_zone:~$ Добро пожаловать в систему!</p>
                <p>server@retro_zone:~$ Введите 'help' для списка команд</p>
                <p class="flex items-center"><span id="terminal-prompt">server@retro_zone:~$</span><span class="animate-blink inline-block w-3 h-5 bg-retro-green ml-1"></span></p>
              </div>
              <input
                id="terminal-input"
                type="text"
                class="w-full bg-transparent border-none outline-none text-retro-green font-terminal text-sm"
                placeholder="Введите команду..."
                onkeydown="handleTerminalInput(event)"
                autocomplete="off"
              >
            </div>
          </div>
  
          <!-- PACMAN MAP -->
          <div class="flex flex-col">
            <h3 class="font-pixel text-retro-amber mb-4">КАРТА_ЛОКАЦИИ.MAP</h3>
            <div class="bg-black border-4 border-blue-800 p-1 relative h-64 w-full max-w-md mx-auto shadow-[0_0_15px_rgba(0,0,255,0.5)] overflow-hidden">

              <!-- Walls -->
              <div class="absolute inset-0">
                 <div class="absolute inset-2 border-2 border-blue-900/50 rounded-lg"></div>
                 <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-20 border-2 border-blue-600 bg-blue-900/10 shadow-[0_0_10px_blue] rounded-sm">
                   <div class="absolute top-1/2 right-0 w-8 h-1 bg-black transform translate-x-1/2 -translate-y-1/2 border-x-2 border-white/50"></div>
                 </div>
                 <div class="absolute top-1/4 left-1/4 w-2 h-1/2 bg-blue-800 rounded-full border border-blue-500"></div>
                 <div class="absolute top-1/4 left-1/4 w-1/2 h-2 bg-blue-800 rounded-full border border-blue-500"></div>
                 <div class="absolute top-1/4 right-1/4 w-2 h-16 bg-blue-800 rounded-full border border-blue-500"></div>
                 <div class="absolute bottom-1/4 right-1/4 w-2 h-12 bg-blue-800 rounded-full border border-blue-500"></div>
              </div>

              <!-- Dots -->
              <div class="absolute bottom-16 left-[8%] w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute bottom-32 left-[8%] w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-32 left-[8%] w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-16 left-[8%] w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-[12%] left-1/4 w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-[12%] left-1/2 w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-[12%] right-1/4 w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-[25%] right-[8%] w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-[40%] right-[8%] w-1 h-1 bg-pink-200/70 rounded-full"></div>
              <div class="absolute top-[50%] right-[20%] w-1 h-1 bg-pink-200/70 rounded-full"></div>

              <div class="absolute bottom-4 left-4 w-8 h-8 border border-dashed border-gray-600 rounded-full flex items-center justify-center">
                <span class="absolute -bottom-4 text-[8px] text-gray-500 font-pixel whitespace-nowrap">ВХОД</span>
              </div>

              <!-- Pacman -->
              <div class="absolute w-5 h-5 animate-pacman-complex z-30">
                <div class="w-full h-full bg-yellow-400 rounded-full relative overflow-hidden">
                   <div class="absolute inset-0 bg-black pacman-mouth origin-center"></div>
                </div>
              </div>

              <!-- Ghost -->
              <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 mt-2 z-10">
                 <div class="w-6 h-6 bg-red-600 rounded-t-xl relative shadow-[0_0_10px_red]">
                   <div class="absolute top-2 left-1 w-2 h-2 bg-white rounded-full"><div class="absolute top-1 right-0.5 w-1 h-1 bg-blue-900 rounded-full"></div></div>
                   <div class="absolute top-2 right-1 w-2 h-2 bg-white rounded-full"><div class="absolute top-1 right-0.5 w-1 h-1 bg-blue-900 rounded-full"></div></div>
                   <div class="absolute bottom-0 w-full flex justify-between px-0.5"><div class="w-1.5 h-1.5 bg-black rounded-t-full"></div><div class="w-1.5 h-1.5 bg-black rounded-t-full"></div><div class="w-1.5 h-1.5 bg-black rounded-t-full"></div></div>
                 </div>
                 <div class="absolute -top-4 left-1/2 -translate-x-1/2 text-[8px] text-retro-green font-pixel whitespace-nowrap">МЫ ТУТ</div>
              </div>
            </div>
          </div>
        </div>
        <div class="text-center mt-12 font-pixel text-[10px] text-gray-600">
          © 2024 RETRO_ZONE. ВСЕ ПРАВА ЗАЩИЩЕНЫ. ОПТИМИЗИРОВАНО ПОД 800x600.
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script>
        // --- 1. MATRIX RAIN EFFECT ---
        (function() {
            const canvas = document.getElementById('matrix-canvas');
            const ctx = canvas.getContext('2d');

            const katakana = 'ｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝ';
            const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const nums = '0123456789';
            const symbols = '$+-*/=%"\'#&_(),.;:?!\\|{}<>[]^~';
            const chars = katakana + latin + nums + symbols;

            const fontSize = 16;
            let drops = [];
            let animationId = null;
            let isVisible = !document.hidden;

            function resize() {
                if (!canvas) return;
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                const columns = Math.ceil(canvas.width / fontSize);
                drops = new Array(columns).fill(0).map(() => Math.floor(Math.random() * -50));
            }

            function draw() {
                if (!isVisible) return;

                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.font = `${fontSize}px "VT323", monospace`;

                for (let i = 0; i < drops.length; i++) {
                    const text = chars[Math.floor(Math.random() * chars.length)];
                    const x = i * fontSize;
                    const y = drops[i] * fontSize;

                    const random = Math.random();
                    if (random > 0.98) ctx.fillStyle = '#FFF';
                    else if (random > 0.8) ctx.fillStyle = '#00FF41';
                    else ctx.fillStyle = '#008F11';

                    ctx.fillText(text, x, y);

                    if (y > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }

                animationId = requestAnimationFrame(draw);
            }

            function handleVisibilityChange() {
                isVisible = !document.hidden;
                if (isVisible && !animationId) {
                    draw(); // Restart animation
                }
            }

            document.addEventListener('visibilitychange', handleVisibilityChange);
            window.addEventListener('resize', resize);
            resize();
            draw(); // Start initial animation
        })();

        // --- 2. PARTICLE EFFECTS ---
        const effectsCanvas = document.getElementById('effects-canvas');
        const effectsCtx = effectsCanvas.getContext('2d');
        let particles = [];

        function resizeEffects() {
            effectsCanvas.width = window.innerWidth;
            effectsCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeEffects);
        resizeEffects();

        function createBurst(x, y, color) {
            for (let i = 0; i < 20; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 5 + 2;
                particles.push({
                    x: x,
                    y: y,
                    vx: Math.cos(angle) * speed,
                    vy: Math.sin(angle) * speed,
                    life: 1.0,
                    color: color,
                    size: Math.random() * 4 + 2
                });
            }
        }

        function renderEffects() {
            if (!effectsCtx || !effectsCanvas) return;
            effectsCtx.clearRect(0, 0, effectsCanvas.width, effectsCanvas.height);
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.x += p.vx;
                p.y += p.vy;
                p.life -= 0.02;
                p.vy += 0.2; // Gravity

                if (p.life <= 0 || p.life < 0.01) { // More reliable removal
                    particles.splice(i, 1);
                } else {
                    effectsCtx.fillStyle = p.color;
                    effectsCtx.globalAlpha = p.life;
                    effectsCtx.fillRect(Math.floor(p.x), Math.floor(p.y), p.size, p.size);
                }
            }
            effectsCtx.globalAlpha = 1.0;
            requestAnimationFrame(renderEffects);
        }
        renderEffects();

        // --- 3. AUDIO & NAVIGATION ---
        let audioContext, musicPlaying = false, musicInterval, endScreenMusicPlaying = false;

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playSound(frequency, type = 'square', duration = 0.1, volume = 0.1) {
            if (!audioContext) initAudio();
            const t = audioContext.currentTime;
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(frequency, t);
            gain.gain.setValueAtTime(0, t);
            gain.gain.linearRampToValueAtTime(volume, t + 0.01);
            gain.gain.exponentialRampToValueAtTime(0.001, t + duration);
            osc.connect(gain);
            gain.connect(audioContext.destination);
            osc.start(t);
            osc.stop(t + duration);
        }

        function playStartSound() {
            // Sharp start sound
            playSound(800, 'sawtooth', 0.2, 0.2);
            setTimeout(() => playSound(600, 'sawtooth', 0.2, 0.2), 100);
        }

        function playEatSound() {
            // Prize sound
            playSound(1000, 'sine', 0.1, 0.15);
            setTimeout(() => playSound(1200, 'sine', 0.1, 0.15), 50);
        }

        function play8BitMusic() {
            if (musicPlaying) return;
            musicPlaying = true;
            // More diverse melody with different patterns
            const melody = [
                {freq: 261.63, dur: 0.2, vol: 0.05}, // C4
                {freq: 293.66, dur: 0.2, vol: 0.05}, // D4
                {freq: 329.63, dur: 0.2, vol: 0.05}, // E4
                {freq: 349.23, dur: 0.3, vol: 0.05}, // F4
                {freq: 392.00, dur: 0.2, vol: 0.05}, // G4
                {freq: 440.00, dur: 0.2, vol: 0.05}, // A4
                {freq: 493.88, dur: 0.2, vol: 0.05}, // B4
                {freq: 523.25, dur: 0.3, vol: 0.05}, // C5
                {freq: 493.88, dur: 0.2, vol: 0.05}, // B4
                {freq: 440.00, dur: 0.2, vol: 0.05}, // A4
                {freq: 392.00, dur: 0.2, vol: 0.05}, // G4
                {freq: 349.23, dur: 0.3, vol: 0.05}, // F4
                {freq: 329.63, dur: 0.2, vol: 0.05}, // E4
                {freq: 293.66, dur: 0.2, vol: 0.05}, // D4
                {freq: 261.63, dur: 0.4, vol: 0.05}, // C4
                // Variation
                {freq: 311.13, dur: 0.2, vol: 0.05}, // Eb4
                {freq: 369.99, dur: 0.2, vol: 0.05}, // F#4
                {freq: 415.30, dur: 0.3, vol: 0.05}, // Ab4
                {freq: 466.16, dur: 0.2, vol: 0.05}, // Bb4
                {freq: 523.25, dur: 0.2, vol: 0.05}, // C5
                {freq: 622.25, dur: 0.2, vol: 0.05}, // Eb5
                {freq: 698.46, dur: 0.3, vol: 0.05}, // F5
                {freq: 783.99, dur: 0.4, vol: 0.05}, // G5
            ];
            let noteIndex = 0;
            musicInterval = setInterval(() => {
                if (!musicPlaying) return;
                const note = melody[noteIndex % melody.length];
                playSound(note.freq, 'square', note.dur, note.vol);
                noteIndex++;
            }, 150);
        }

        function playVictoryMusic() {
            endScreenMusicPlaying = true;
            // Imperial March notes (more complete and longer)
            const victoryNotes = [
                {freq: 392, dur: 0.3}, // G4
                {freq: 392, dur: 0.3}, // G4
                {freq: 392, dur: 0.3}, // G4
                {freq: 311, dur: 0.2}, // Eb4
                {freq: 466, dur: 0.1}, // Bb4
                {freq: 392, dur: 0.3}, // G4
                {freq: 311, dur: 0.2}, // Eb4
                {freq: 466, dur: 0.1}, // Bb4
                {freq: 392, dur: 0.6}, // G4
                // Repeat for longer
                {freq: 392, dur: 0.3}, // G4
                {freq: 392, dur: 0.3}, // G4
                {freq: 392, dur: 0.3}, // G4
                {freq: 311, dur: 0.2}, // Eb4
                {freq: 466, dur: 0.1}, // Bb4
                {freq: 392, dur: 0.3}, // G4
                {freq: 311, dur: 0.2}, // Eb4
                {freq: 466, dur: 0.1}, // Bb4
                {freq: 392, dur: 0.8}, // G4
            ];
            let noteIndex = 0;
            const victoryInterval = setInterval(() => {
                if (noteIndex >= victoryNotes.length) {
                    clearInterval(victoryInterval);
                    endScreenMusicPlaying = false;
                    return;
                }
                const note = victoryNotes[noteIndex];
                playSound(note.freq, 'sawtooth', note.dur, 0.1);
                noteIndex++;
            }, 300);
        }

        function playLoseMusic() {
            endScreenMusicPlaying = true;
            // Ironic lose music - dissonant, low tones
            const loseNotes = [
                {freq: 100, dur: 0.5}, // Low G2
                {freq: 95, dur: 0.5},  // Slightly off
                {freq: 90, dur: 0.5},  // More off
                {freq: 85, dur: 0.5},  // Even more
                {freq: 80, dur: 0.8},  // Very off
            ];
            let noteIndex = 0;
            const loseInterval = setInterval(() => {
                if (noteIndex >= loseNotes.length) {
                    clearInterval(loseInterval);
                    endScreenMusicPlaying = false;
                    return;
                }
                const note = loseNotes[noteIndex];
                playSound(note.freq, 'sawtooth', note.dur, 0.15);
                noteIndex++;
            }, 400);
        }

        function createFireworks() {
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;
                    const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
                    createBurst(x, y, colors[Math.floor(Math.random() * colors.length)]);
                }, i * 100);
            }
        }

        function stopMusic() {
            musicPlaying = false;
            if (musicInterval) {
                clearInterval(musicInterval);
                musicInterval = null;
            }
        }

        function toggleMusic() {
            if (musicPlaying) {
                stopMusic();
                document.getElementById('music-btn').textContent = 'МУЗЫКА: ВЫКЛ';
            } else {
                play8BitMusic();
                document.getElementById('music-btn').textContent = 'МУЗЫКА: ВКЛ';
            }
        }

        function playMechanicalClick() {
            if (!audioContext) initAudio();
            const t = audioContext.currentTime;

            // Click
            const osc1 = audioContext.createOscillator();
            const gain1 = audioContext.createGain();
            osc1.type = 'triangle';
            osc1.frequency.setValueAtTime(1500, t);
            osc1.frequency.exponentialRampToValueAtTime(400, t + 0.04);
            gain1.gain.setValueAtTime(0, t);
            gain1.gain.linearRampToValueAtTime(0.1, t + 0.01);
            gain1.gain.exponentialRampToValueAtTime(0.001, t + 0.05);
            osc1.connect(gain1);
            gain1.connect(audioContext.destination);
            osc1.start(t);
            osc1.stop(t + 0.05);

            // Thock
            const osc2 = audioContext.createOscillator();
            const gain2 = audioContext.createGain();
            osc2.type = 'square';
            osc2.frequency.setValueAtTime(200, t);
            osc2.frequency.exponentialRampToValueAtTime(50, t + 0.1);
            gain2.gain.setValueAtTime(0, t);
            gain2.gain.linearRampToValueAtTime(0.1, t + 0.01);
            gain2.gain.exponentialRampToValueAtTime(0.001, t + 0.1);
            const filter = audioContext.createBiquadFilter();
            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(1000, t);
            osc2.connect(filter);
            filter.connect(gain2);
            gain2.connect(audioContext.destination);
            osc2.start(t);
            osc2.stop(t + 0.1);
        }

        function handleSnakeClick(event) {
            const colors = {
                'amber': '#ffb000'
            };

            // Audio
            playMechanicalClick();

            // Particles
            if(event && event.clientX !== undefined && event.clientY !== undefined) {
                createBurst(event.clientX, event.clientY, colors['amber']);
            }

            // Open snake game
            openSnake();
        }

        function handleNavClick(id, colorName, event) {
            const colors = {
                'green': '#00ff41',
                'amber': '#ffb000',
                'purple': '#bf00ff'
            };

            // Audio
            playMechanicalClick();

            // Particles
            if(event && event.clientX !== undefined && event.clientY !== undefined) {
                createBurst(event.clientX, event.clientY, colors[colorName]);
            }

            // Scroll
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // --- 4. SNAKE GAME ---
        let snakeGame = {
            canvas: null,
            ctx: null,
            snake: [{x: 10, y: 10}],
            direction: {x: 0, y: 0},
            food: {x: 15, y: 15},
            score: 0,
            gameRunning: false,
            gameInterval: null
        };

        function openSnake() {
            // Save current scroll position
            window.savedScrollTop = window.pageYOffset || document.documentElement.scrollTop;
            document.getElementById('snake-game').style.display = 'flex';
            document.getElementById('snake-start').style.display = 'block';
            document.getElementById('snake-gameplay').style.display = 'none';
            document.getElementById('snake-win').style.display = 'none';
            document.getElementById('snake-lose').style.display = 'none';
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }
        function resetToStart() {
            document.getElementById('snake-start').style.display = 'block';
            document.getElementById('snake-gameplay').style.display = 'none';
            document.getElementById('snake-win').style.display = 'none';
            document.getElementById('snake-lose').style.display = 'none';
        }

        function startSnakeGame() {
            document.getElementById('snake-start').style.display = 'none';
            document.getElementById('snake-gameplay').style.display = 'block';
            initSnake();
            playStartSound();
        }

        function closeSnake() {
            document.getElementById('snake-game').style.display = 'none';
            if (snakeGame.gameInterval) clearInterval(snakeGame.gameInterval);
            snakeGame.gameRunning = false;
            stopMusic(); // Stop any playing music
            document.body.style.overflow = ''; // Restore scrolling
            // Restore scroll position
            if (window.savedScrollTop !== undefined) {
                window.scrollTo(0, window.savedScrollTop);
            }
        }

        function initSnake() {
            snakeGame.canvas = document.getElementById('snake-canvas');
            snakeGame.ctx = snakeGame.canvas.getContext('2d');
            snakeGame.snake = [{x: 10, y: 10}];
            snakeGame.direction = {x: 0, y: 0};
            // Generate food position that doesn't conflict with snake
            do {
                snakeGame.food = {x: Math.floor(Math.random() * 20), y: Math.floor(Math.random() * 20)};
            } while (snakeGame.food.x === snakeGame.snake[0].x && snakeGame.food.y === snakeGame.snake[0].y);
            snakeGame.score = 5;
            snakeGame.gameRunning = false;
            updateScore();
            drawSnake();
        }

        function drawSnake() {
            snakeGame.ctx.fillStyle = '#000';
            snakeGame.ctx.fillRect(0, 0, snakeGame.canvas.width, snakeGame.canvas.height);

            // Draw snake
            snakeGame.ctx.fillStyle = '#00ff41';
            for (let segment of snakeGame.snake) {
                snakeGame.ctx.fillRect(segment.x * 16, segment.y * 16, 16, 16);
            }

            // Draw food
            snakeGame.ctx.fillStyle = '#ffb000';
            snakeGame.ctx.fillRect(snakeGame.food.x * 16, snakeGame.food.y * 16, 16, 16);
        }

        function updateSnake() {
            if (!snakeGame.gameRunning) return;

            const head = {x: snakeGame.snake[0].x + snakeGame.direction.x, y: snakeGame.snake[0].y + snakeGame.direction.y};

            // Wall collision
            if (head.x < 0 || head.x >= 20 || head.y < 0 || head.y >= 20) {
                gameOver();
                return;
            }

            // Self collision (skip head)
            for (let i = 1; i < snakeGame.snake.length; i++) {
                const segment = snakeGame.snake[i];
                if (head.x === segment.x && head.y === segment.y) {
                    gameOver();
                    return;
                }
            }

            snakeGame.snake.unshift(head);

            // Food collision
            if (head.x === snakeGame.food.x && head.y === snakeGame.food.y) {
                snakeGame.score--;
                updateScore();
                snakeGame.food = {x: Math.floor(Math.random() * 20), y: Math.floor(Math.random() * 20)};
                playEatSound();

                // Check win condition
                if (snakeGame.score <= 0) {
                    winGame();
                    return;
                }
            } else {
                snakeGame.snake.pop();
            }

            drawSnake();
        }

        function winGame() {
            snakeGame.gameRunning = false;
            clearInterval(snakeGame.gameInterval);

            // Show win screen immediately
            document.getElementById('snake-gameplay').style.display = 'none';
            document.getElementById('snake-win').style.display = 'block';

            // Play victory music and fireworks
            playVictoryMusic();
            createFireworks();
        }

        function gameOver() {
            snakeGame.gameRunning = false;
            clearInterval(snakeGame.gameInterval);

            // Show lose screen immediately
            document.getElementById('snake-gameplay').style.display = 'none';
            document.getElementById('snake-lose').style.display = 'block';

            // Play lose music
            playLoseMusic();
        }

        function updateScore() {
            document.getElementById('snake-score').textContent = 'Осталось: ' + snakeGame.score;
        }

        document.addEventListener('keydown', function(e) {
            // Ignore all input while end screen music is playing
            if (endScreenMusicPlaying) {
                e.preventDefault();
                return;
            }

            // Win/lose screen exit to main menu
            if (document.getElementById('snake-win').style.display === 'block' ||
                document.getElementById('snake-lose').style.display === 'block') {
                e.preventDefault();
                closeSnake();
                return;
            }

            if (!snakeGame.gameRunning && document.getElementById('snake-game').style.display === 'flex') {
                snakeGame.gameRunning = true;
                snakeGame.gameInterval = setInterval(updateSnake, 150);
            }

            switch(e.key) {
                case 'ArrowUp':
                    snakeGame.direction = {x: 0, y: -1};
                    e.preventDefault();
                    break;
                case 'ArrowDown':
                    snakeGame.direction = {x: 0, y: 1};
                    e.preventDefault();
                    break;
                case 'ArrowLeft':
                    snakeGame.direction = {x: -1, y: 0};
                    e.preventDefault();
                    break;
                case 'ArrowRight':
                    snakeGame.direction = {x: 1, y: 0};
                    e.preventDefault();
                    break;
            }
        });

        // --- 5. IDLE DETECTION & SPRITE ANIMATIONS ---
        let idleTimer, idleState = false;

        function resetIdleTimer() {
            clearTimeout(idleTimer);
            if (idleState) {
                document.body.classList.remove('idle-active');
                idleState = false;
            }
            idleTimer = setTimeout(() => {
                document.body.classList.add('idle-active');
                idleState = true;
            }, 5000); // 5 seconds of inactivity
        }

        function initIdleDetection() {
            // Reset timer on mouse movement
            document.addEventListener('mousemove', resetIdleTimer);
            document.addEventListener('mousedown', resetIdleTimer);
            document.addEventListener('keydown', resetIdleTimer);
            document.addEventListener('scroll', resetIdleTimer);

            // Start initial timer
            resetIdleTimer();
        }

        // Game screenshots data - local screenshots for each game
        const gameScreenshots = {
            0: 'screenshots/cs16.jpg', // CS 1.6
            1: 'screenshots/warcraft3.jpg', // Warcraft III
            2: 'screenshots/quake3.jpg', // Quake III
            3: 'screenshots/starcraft.jpg', // StarCraft
            4: 'screenshots/diablo2.jpg', // Diablo II
            5: 'screenshots/halflife.jpg', // Half-Life
            6: 'screenshots/dota.jpg', // DOTA
            7: 'screenshots/ut2004.jpg' // UT 2004
        };

        // Sprite animations for game cards
        function initSpriteAnimations() {
            console.log('Initializing sprite animations...');
            // Get all game cards
            const gameCards = document.querySelectorAll('.game-card');
            console.log('Found', gameCards.length, 'game cards');

            gameCards.forEach((card, index) => {
                const artContainer = card.querySelector('.aspect-square');
                if (!artContainer) {
                    console.log('No .aspect-square found for card', index);
                    return;
                }

                // Add screenshot hover effect
                if (gameScreenshots[index]) {
                    const screenshotOverlay = document.createElement('div');
                    screenshotOverlay.className = 'absolute inset-0 pointer-events-none z-40 opacity-0 transition-opacity duration-500 flex items-center justify-center bg-black/90';
                    screenshotOverlay.innerHTML = `<img src="${gameScreenshots[index]}" alt="Game Screenshot" class="max-w-full max-h-full object-contain" style="filter: contrast(1.2) brightness(0.8) saturate(0.5) grayscale(0.3);">`;
                    artContainer.appendChild(screenshotOverlay);

                    // Add hover effect using CSS classes instead of direct event listeners
                    card.addEventListener('mouseenter', () => {
                        screenshotOverlay.style.opacity = '1';
                        console.log('Hover activated for game', index, 'overlay:', screenshotOverlay);
                    });
                    card.addEventListener('mouseleave', () => {
                        screenshotOverlay.style.opacity = '0';
                        console.log('Hover deactivated for game', index);
                    });

                    console.log('Screenshot overlay added for game', index, 'overlay:', screenshotOverlay);
                }

                console.log('Processing card', index, 'with art container');

                switch(index) {
                    case 0: // CS 1.6 - Running Terrorist Sprite
                        console.log('Adding CS 1.6 sprite animation');
                        // Create a highly visible running sprite
                        const sprite = document.createElement('div');
                        sprite.className = 'absolute inset-0 pointer-events-none z-50 flex items-center justify-center';
                        sprite.innerHTML = `
                            <div class="w-16 h-16 bg-red-500 border-4 border-yellow-400 rounded-lg flex items-center justify-center animate-pulse" style="animation: cs-run 0.5s steps(4) infinite;">
                                <div class="w-3 h-3 bg-white rounded-full animate-bounce"></div>
                            </div>
                        `;
                        artContainer.appendChild(sprite);
                        break;

                    case 1: // Warcraft III - Wave animation on existing elements
                        console.log('Adding Warcraft III wave animation');
                        const wc3Logo = artContainer.querySelector('div[class*="border-cyan-500"]');
                        if (wc3Logo) {
                            // Add a highly visible pulsing effect
                            const waveEffect = document.createElement('div');
                            waveEffect.className = 'absolute inset-0 pointer-events-none z-30 flex items-center justify-center';
                            waveEffect.innerHTML = `
                                <div class="w-24 h-24 bg-cyan-400 rounded-full animate-ping opacity-30"></div>
                            `;
                            artContainer.appendChild(waveEffect);
                            wc3Logo.style.animation = 'wc3-wave 4s ease-in-out infinite';
                        } else {
                            console.log('Warcraft III logo not found');
                        }
                        break;

                    case 2: // Quake III - Spin animation on logo
                        console.log('Adding Quake III spin animation');
                        const quakeLogo = artContainer.querySelector('div[class*="border-orange-700"]');
                        if (quakeLogo) {
                            // Add a highly visible spinning effect
                            const spinEffect = document.createElement('div');
                            spinEffect.className = 'absolute inset-0 pointer-events-none z-30 flex items-center justify-center';
                            spinEffect.innerHTML = `
                                <div class="w-20 h-20 border-4 border-orange-400 rounded-full animate-spin opacity-60"></div>
                            `;
                            artContainer.appendChild(spinEffect);
                            quakeLogo.style.animation = 'quake-spin 3s ease-in-out infinite';
                        } else {
                            console.log('Quake III logo not found');
                        }
                        break;

                    case 3: // StarCraft - Rotating rings
                        console.log('Adding StarCraft rotating rings');
                        const ring1 = document.createElement('div');
                        ring1.className = 'absolute inset-4 border-2 border-blue-400 rounded-full pointer-events-none z-20';
                        ring1.style.animation = 'sc-ring1 8s linear infinite';

                        const ring2 = document.createElement('div');
                        ring2.className = 'absolute inset-8 border border-blue-300 rounded-full pointer-events-none z-20';
                        ring2.style.animation = 'sc-ring2 6s linear infinite reverse';

                        artContainer.appendChild(ring1);
                        artContainer.appendChild(ring2);
                        break;

                    case 4: // Diablo II - Pulse on pentagram
                        console.log('Adding Diablo II pulse animation');
                        const pentagram = artContainer.querySelector('svg');
                        if (pentagram) {
                            pentagram.style.animation = 'diablo-pulse 3s ease-in-out infinite';
                        } else {
                            console.log('Diablo II pentagram not found');
                        }
                        break;

                    case 5: // Half-Life - Lambda animation
                        console.log('Adding Half-Life lambda animation');
                        const lambda = artContainer.querySelector('div[class*="text-orange-500"]');
                        if (lambda) {
                            lambda.style.animation = 'hl-lambda 2s ease-in-out infinite';
                        } else {
                            console.log('Half-Life lambda not found');
                        }
                        break;

                    case 6: // DOTA - Elements animation
                        console.log('Adding DOTA elements animation');
                        // Add a highly visible battle effect
                        const battleEffect = document.createElement('div');
                        battleEffect.className = 'absolute inset-0 pointer-events-none z-30 flex items-center justify-center';
                        battleEffect.innerHTML = `
                            <div class="w-32 h-32 border-4 border-purple-500 rounded-full animate-spin opacity-40" style="animation: ut-logo 2s ease-in-out infinite;"></div>
                            <div class="absolute w-24 h-24 bg-gradient-radial from-yellow-400 to-transparent rounded-full animate-ping opacity-30"></div>
                        `;
                        artContainer.appendChild(battleEffect);

                        const dotaElements = artContainer.querySelectorAll('div[class*="rounded-full"]');
                        console.log('Found', dotaElements.length, 'DOTA elements');
                        dotaElements.forEach(el => {
                            if (el.classList.contains('animate-pulse')) {
                                el.style.animation += ', dota-elements 3s ease-in-out infinite';
                            }
                        });
                        break;

                    case 7: // UT 2004 - Logo animation
                        console.log('Adding UT 2004 logo animation');
                        const utLogo = artContainer.querySelector('div[class*="text-yellow-600"]');
                        if (utLogo) {
                            utLogo.style.animation = 'ut-logo 4s ease-in-out infinite';
                        } else {
                            console.log('UT 2004 logo not found');
                        }
                        break;
                }
            });

            console.log('Sprite animations initialization complete');
        }

        // --- MONITOR EFFECTS ---
        function initMonitorEffects() {
            // Start with degauss effect on load
            const crtOverlay = document.getElementById('crt-overlay');
            if (crtOverlay) {
                // Add degauss class initially
                crtOverlay.classList.add('monitor-degauss');

                // Remove degauss class after animation completes
                setTimeout(() => {
                    crtOverlay.classList.remove('monitor-degauss');
                    // Add permanent flicker and distortion
                    crtOverlay.classList.add('monitor-flicker', 'monitor-distort');
                }, 2000);
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initIdleDetection();
            // Add small delay to ensure all elements are rendered
            setTimeout(() => {
                initSpriteAnimations();
                initVirtualControls();
                initMonitorEffects();
            }, 100);
        });

        // Virtual controls for mobile/touch devices
        function initVirtualControls() {
            const upBtn = document.getElementById('up-btn');
            const downBtn = document.getElementById('down-btn');
            const leftBtn = document.getElementById('left-btn');
            const rightBtn = document.getElementById('right-btn');
            const aBtn = document.getElementById('a-btn');
            const bBtn = document.getElementById('b-btn');

            console.log('Initializing virtual controls:', {upBtn, downBtn, leftBtn, rightBtn, aBtn, bBtn});

            if (upBtn && downBtn && leftBtn && rightBtn && aBtn && bBtn) {
                // Direction buttons
                upBtn.addEventListener('touchstart', (e) => {
                    console.log('UP button touchstart');
                    handleVirtualDirection({x: 0, y: -1});
                });
                upBtn.addEventListener('mousedown', (e) => {
                    console.log('UP button mousedown');
                    handleVirtualDirection({x: 0, y: -1});
                });
                upBtn.addEventListener('click', (e) => {
                    console.log('UP button click');
                    handleVirtualDirection({x: 0, y: -1});
                });

                downBtn.addEventListener('touchstart', (e) => {
                    console.log('DOWN button touchstart');
                    handleVirtualDirection({x: 0, y: 1});
                });
                downBtn.addEventListener('mousedown', (e) => {
                    console.log('DOWN button mousedown');
                    handleVirtualDirection({x: 0, y: 1});
                });
                downBtn.addEventListener('click', (e) => {
                    console.log('DOWN button click');
                    handleVirtualDirection({x: 0, y: 1});
                });

                leftBtn.addEventListener('touchstart', (e) => {
                    console.log('LEFT button touchstart');
                    handleVirtualDirection({x: -1, y: 0});
                });
                leftBtn.addEventListener('mousedown', (e) => {
                    console.log('LEFT button mousedown');
                    handleVirtualDirection({x: -1, y: 0});
                });
                leftBtn.addEventListener('click', (e) => {
                    console.log('LEFT button click');
                    handleVirtualDirection({x: -1, y: 0});
                });

                rightBtn.addEventListener('touchstart', (e) => {
                    console.log('RIGHT button touchstart');
                    handleVirtualDirection({x: 1, y: 0});
                });
                rightBtn.addEventListener('mousedown', (e) => {
                    console.log('RIGHT button mousedown');
                    handleVirtualDirection({x: 1, y: 0});
                });
                rightBtn.addEventListener('click', (e) => {
                    console.log('RIGHT button click');
                    handleVirtualDirection({x: 1, y: 0});
                });

                // Action buttons (A and B can be used for start/confirm)
                aBtn.addEventListener('touchstart', (e) => {
                    console.log('A button touchstart');
                    handleVirtualAction('a');
                });
                aBtn.addEventListener('mousedown', (e) => {
                    console.log('A button mousedown');
                    handleVirtualAction('a');
                });
                aBtn.addEventListener('click', (e) => {
                    console.log('A button click');
                    handleVirtualAction('a');
                });

                bBtn.addEventListener('touchstart', (e) => {
                    console.log('B button touchstart');
                    handleVirtualAction('b');
                });
                bBtn.addEventListener('mousedown', (e) => {
                    console.log('B button mousedown');
                    handleVirtualAction('b');
                });
                bBtn.addEventListener('click', (e) => {
                    console.log('B button click');
                    handleVirtualAction('b');
                });

                console.log('Virtual controls initialized successfully');
            } else {
                console.error('Some virtual control buttons not found');
            }
        }

        function handleVirtualDirection(direction) {
            console.log('Virtual direction pressed:', direction, 'Game running:', snakeGame.gameRunning);

            // Start game if not running
            if (!snakeGame.gameRunning) {
                console.log('Starting game from virtual controls');
                snakeGame.gameRunning = true;
                snakeGame.gameInterval = setInterval(updateSnake, 150);
                console.log('Game started, interval set');
            }

            snakeGame.direction = direction;
            console.log('Direction set to:', direction, 'Current direction:', snakeGame.direction);
        }

        function handleVirtualAction(action) {
            console.log('Virtual action pressed:', action, 'Game running:', snakeGame.gameRunning, 'Music playing:', endScreenMusicPlaying);

            // Ignore all input while end screen music is playing
            if (endScreenMusicPlaying) {
                console.log('Ignoring virtual action - music is playing');
                return;
            }

            // Handle win/lose screen exit
            if (document.getElementById('snake-win').style.display === 'block' ||
                document.getElementById('snake-lose').style.display === 'block') {
                console.log('Exiting win/lose screen');
                closeSnake();
                return;
            }

            // A button can start the game or be used for other actions
            if (action === 'a' && !snakeGame.gameRunning && document.getElementById('snake-game').style.display === 'flex') {
                console.log('Starting game with A button');
                snakeGame.gameRunning = true;
                snakeGame.gameInterval = setInterval(updateSnake, 150);
                console.log('Game started with A button, interval set');
            } else if (action === 'a') {
                console.log('A button pressed but game already running or modal not visible');
            }

            // B button could be used for pause or other actions if needed
            if (action === 'b') {
                console.log('B button pressed');
            }
        }

        // --- TERMINAL INTERACTION ---
        function handleTerminalInput(event) {
            if (event.key === 'Enter') {
                const input = document.getElementById('terminal-input');
                const command = input.value.trim().toLowerCase();
                const output = document.getElementById('terminal-output');
                const prompt = document.getElementById('terminal-prompt');

                // Add command to output
                const commandLine = document.createElement('p');
                commandLine.textContent = `server@retro_zone:~$ ${input.value}`;
                output.appendChild(commandLine);

                // Process command
                switch(command) {
                    case 'help':
                        const helpText = document.createElement('p');
                        helpText.innerHTML = `
Доступные команды:<br/>
&nbsp;&nbsp;help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- показать эту справку<br/>
&nbsp;&nbsp;secret&nbsp;&nbsp;&nbsp;- получить скрытую скидку<br/>
&nbsp;&nbsp;clear&nbsp;&nbsp;&nbsp;&nbsp;- очистить терминал<br/>
&nbsp;&nbsp;about&nbsp;&nbsp;&nbsp;&nbsp;- информация о клубе
                        `;
                        output.appendChild(helpText);
                        break;

                    case 'secret':
                        const secretText = document.createElement('p');
                        secretText.innerHTML = `
<span style="color: #ffb000;">🔓 ДОСТУП РАЗБЛОКИРОВАН!</span><br/>
<span style="color: #00ff41;">ПРОМОКОД: RETRO_MASTER</span><br/>
<span style="color: #bf00ff;">СКИДКА 25% НА ВСЕ УСЛУГИ</span><br/>
<span style="color: #888;">Используйте код при бронировании</span>
                        `;
                        output.appendChild(secretText);

                        // Create particles for secret unlock
                        createBurst(window.innerWidth / 2, window.innerHeight / 2, '#ffb000');
                        playSound(1000, 'sine', 0.3, 0.2);
                        break;

                    case 'clear':
                        // Keep only the welcome messages and prompt
                        while (output.children.length > 3) {
                            output.removeChild(output.children[1]);
                        }
                        break;

                    case 'about':
                        const aboutText = document.createElement('p');
                        aboutText.innerHTML = `
<span style="color: #00ff41;">RETRO_ZONE КИБЕР-КЛУБ</span><br/>
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━<br/>
• LAN турниры по классическим играм<br/>
• Ретро оборудование и консоли<br/>
• Чистый скилл, без лагов и DLC<br/>
• Комьюнити настоящих геймеров<br/>
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
                        `;
                        output.appendChild(aboutText);
                        break;

                    case '':
                        // Empty command, do nothing
                        break;

                    default:
                        const errorText = document.createElement('p');
                        errorText.innerHTML = `<span style="color: #ff0000;">Команда '${command}' не найдена. Введите 'help' для списка команд.</span>`;
                        output.appendChild(errorText);
                        break;
                }

                // Clear input
                input.value = '';

                // Scroll to bottom
                output.scrollTop = output.scrollHeight;

                // Update prompt (for consistency)
                prompt.textContent = 'server@retro_zone:~$';
            }
        }
    </script>
</body>
</html>
